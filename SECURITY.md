# 보안 정책 (Security Policy)

## 개요

WEAVE 프로젝트의 보안 정책과 구현된 보안 기능들을 정리합니다.

## 인증 시스템 보안

### 비밀번호 정책

#### 회원가입 시 비밀번호 요구사항
- **최소 길이**: 8자 이상
- **필수 포함**: 소문자, 숫자
- **권장 포함**: 대문자, 특수문자
- **강도 검증**: 실시간 비밀번호 강도 표시
- **확인 검증**: 비밀번호 재입력으로 일치 확인

#### 로그인 시 비밀번호 요구사항
- **최소 길이**: 6자 이상 (기존 사용자 호환성)
- **암호화**: Supabase Auth를 통한 안전한 해시 처리

### 이메일 인증

#### 운영 환경
- **필수 인증**: 이메일 인증 완료 후 로그인 가능
- **링크 만료**: 24시간 후 인증 링크 만료
- **재발송**: 인증 이메일 재발송 기능 제공

#### 개발 환경
- **유연한 처리**: 이메일 미인증 사용자에 대한 명확한 안내
- **수동 확인**: Supabase 관리자 패널에서 수동 확인 가능
- **개발 모드 표시**: 개발 환경임을 명시하는 UI 안내

### 세션 관리

- **자동 만료**: Supabase JWT 토큰 기반 세션 관리
- **상태 동기화**: 실시간 인증 상태 변경 감지
- **보안 로그아웃**: 완전한 세션 무효화

## 입력 검증

### 클라이언트 측 검증
- **이메일 형식**: 정규식을 통한 이메일 형식 검증
- **실시간 피드백**: 입력 중 즉시 유효성 검사 결과 표시
- **XSS 방지**: React의 기본 XSS 보호 활용

### 서버 측 검증
- **Supabase 검증**: 서버 측에서 재검증 수행
- **중복 방지**: 이메일 중복 가입 방지
- **Rate Limiting**: 과도한 요청 방지

## 에러 처리

### 보안 친화적 에러 메시지
- **정보 노출 방지**: 시스템 내부 정보 노출 차단
- **사용자 친화적**: 한국어로 명확한 안내 제공
- **개발/운영 분리**: 환경별 적절한 에러 정보 제공

### 로깅
- **보안 이벤트**: 로그인 시도, 실패 등 보안 관련 이벤트 로깅
- **개인정보 보호**: 비밀번호 등 민감 정보 로깅 제외
- **개발 환경**: 디버깅을 위한 상세 로그 출력

## 환경 분리

### 개발 환경
- **테스트 용이성**: 이메일 인증 우회 옵션
- **디버깅 지원**: 상세한 로그 출력
- **개발 모드 표시**: UI에서 개발 환경임을 명시

### 운영 환경
- **강화된 보안**: 모든 보안 정책 엄격 적용
- **최소 로깅**: 필요한 보안 이벤트만 로깅
- **프로덕션 설정**: Captcha, Rate Limiting 등 활성화

## 데이터 보호

### 환경 변수 관리
- **민감 정보 분리**: `.env.local`로 개발 환경 설정 분리
- **키 관리**: Supabase 키의 안전한 저장 및 관리
- **접근 제한**: 서비스 역할 키의 적절한 권한 설정

### HTTPS 강제
- **운영 환경**: HTTPS 연결 강제
- **개발 환경**: 로컬 개발을 위한 HTTP 허용

## 모니터링 및 감사

### 보안 이벤트 모니터링
- **로그인 시도**: 성공/실패 로그인 추적
- **계정 생성**: 새 계정 생성 모니터링
- **비정상 활동**: 반복적인 로그인 실패 등 감지

### 정기 보안 검토
- **의존성 검사**: 정기적인 패키지 보안 업데이트
- **코드 검토**: 보안 취약점 코드 리뷰
- **설정 검토**: 보안 설정의 정기적 점검

## 준수 사항

### 개인정보보호법
- **동의 처리**: 이용약관 및 개인정보처리방침 동의
- **최소 수집**: 필요한 최소한의 개인정보만 수집
- **안전한 처리**: 개인정보의 안전한 저장 및 처리

### 접근성
- **보안과 접근성**: 보안 기능이 접근성을 저해하지 않도록 설계
- **대체 수단**: 보안 인증의 대체 수단 제공 고려

## 업데이트 정책

### 보안 패치
- **즉시 적용**: 중요 보안 패치의 즉시 적용
- **테스트**: 보안 패치 적용 전 충분한 테스트
- **백업**: 패치 적용 전 시스템 백업

### 정책 업데이트
- **정기 검토**: 보안 정책의 정기적 검토 및 업데이트
- **위협 대응**: 새로운 보안 위협에 대한 신속한 대응
- **문서화**: 모든 보안 변경사항의 명확한 문서화

## 연락처

보안 관련 문의나 취약점 신고:
- 이메일: security@weave.dev
- 우선순위: 중요 보안 이슈는 24시간 내 대응

---

**최종 업데이트**: 2025-08-21  
**검토 주기**: 분기별 (3개월)  
**다음 검토일**: 2025-11-21