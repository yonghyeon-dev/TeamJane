# Cursor Rules for WEAVE Project

You are an expert assistant for the WEAVE project - a React + Next.js 14 TypeScript application with Supabase and Korean UI.

# Release Note Auto-Generator

When asked to update Release_Note.md:
1. **FIRST**: Read the existing Release_Note.md file to analyze current content
2. **EXTRACT**: Find the last ISSUE-[NUMBER] and REV[NUMBER] from existing entries
3. **AUTO-INCREMENT**: Add 1 to both numbers for the new entry
4. **FOLLOW**: This EXACT format for the new entry:

## Template Format:
```
#### ISSUE-[NUMBER]: [TITLE] âœ… í•´ê²°ì™„ë£Œ
- **ë°œìƒì¼**: YYYY-MM-DD
- **í•´ê²°ì¼**: YYYY-MM-DD
- **ì¦ìƒ**: [êµ¬ì²´ì  í˜„ìƒ ê¸°ìˆ ]
- **ìœ„ì¹˜**: [íŒŒì¼ëª…:ë¼ì¸ë²ˆí˜¸]
- **ì›ì¸**: [ì¦‰ê°ì  ì›ì¸]
- **ê·¼ë³¸ì›ì¸**: [ì‹œìŠ¤í…œì  ê·¼ë³¸ ì›ì¸]
- **ëŒ€ì±…**: 
  1. âœ… [í•´ê²° ë°©ì•ˆ 1]
  2. âœ… [í•´ê²° ë°©ì•ˆ 2]
- **ìš°ì„ ìˆœìœ„**: [ğŸ”´/ğŸŸ¡/ğŸŸ /ğŸŸ¢] [Critical/High/Medium/Low]
- **ë²„ì „**: V1.0.1_YYMMDD_REV###
- **í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤**:
  ```javascript
  it('should [ê¸°ëŒ€ ë™ì‘]', async () => {
    // Given: [ì „ì œ ì¡°ê±´]
    // When: [ì‹¤í–‰ ë™ì‘]
    // Then: [ê¸°ëŒ€ ê²°ê³¼]
    expect([ì‹¤ì œê°’]).toBe([ê¸°ëŒ€ê°’]);
  });
  ```
```

## Mandatory Rules:
1. **Korean Language**: Use formal Korean (ì¡´ëŒ“ë§) throughout
2. **No Speculation**: Avoid words like "ì•„ë§ˆ", "ì¶”ì •ë¨", "?", "ëŒ€ëµ"
3. **Auto-Increment**: Issue numbers and REV numbers from last entry in Release_Note.md
4. **Priority Classification**: 
   - ğŸ”´ Critical: System failure, compilation errors, security issues
   - ğŸŸ¡ High: Feature breakdown, major UX problems
   - ğŸŸ  Medium: UX improvements, performance optimization
   - ğŸŸ¢ Low: Minor improvements, code cleanup
5. **Test Cases**: Always include JavaScript test with Given/When/Then format

## Project Context:
- Framework: React + Next.js 14 (App Router)
- Language: TypeScript + Korean UI
- Styling: Tailwind CSS with custom theme variables
- Auth: Supabase authentication
- State: Zustand with Immer middleware
- Testing: Playwright E2E tests

## File Structure:
- UI Components: `src/components/ui/`
- Pages: `src/app/` (App Router)
- Utils: `src/lib/`
- Stores: `src/stores/`
- Theme: `src/lib/theme/`

## Import Patterns:
```typescript
import Button from "@/components/ui/Button"
import { useTheme } from "@/lib/theme/ThemeContext"
import { cn } from "@/lib/utils"
```

## Version Format:
- Pattern: `V1.0.1_YYMMDD_REV###`
- Example: `V1.0.1_250820_REV009`
- Auto-increment REV number only for same-day releases

## Detailed Example Template:
```markdown
#### ISSUE-010: JSX íŒŒì¼ í™•ì¥ì ì˜¤ë¥˜ í•´ê²° âœ… í•´ê²°ì™„ë£Œ
- **ë°œìƒì¼**: 2025-08-20
- **í•´ê²°ì¼**: 2025-08-20
- **ì¦ìƒ**: TypeScript ì»´íŒŒì¼ ì‹¤íŒ¨ë¡œ ì¸í•œ ì‚¬ì´íŠ¸ ì „ì²´ 404 ì—ëŸ¬
- **ìœ„ì¹˜**: src/lib/utils/user-display.ts:77-93
- **ì›ì¸**: JSX ì»´í¬ë„ŒíŠ¸ë¥¼ .ts íŒŒì¼ì— ì‘ì„±
- **ê·¼ë³¸ì›ì¸**: TypeScript/JSX íŒŒì¼ í™•ì¥ì ê·œì¹™ ë¯¸ì¤€ìˆ˜
- **ëŒ€ì±…**: 
  1. âœ… .ts â†’ .tsx í™•ì¥ì ë³€ê²½
  2. âœ… ì†ìƒëœ .next ë””ë ‰í† ë¦¬ ì¬ìƒì„±
- **ìš°ì„ ìˆœìœ„**: ğŸ”´ Critical
- **ë²„ì „**: V1.0.1_250820_REV008
- **í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤**:
  ```javascript
  it('should compile JSX components without errors', async () => {
    // Given: JSX component in .tsx file
    // When: TypeScript compilation runs
    // Then: No compilation errors occur
    expect(compilationErrors).toHaveLength(0);
  });
  ```
```

## Coding Style Guide:

### React/TypeScript Patterns:
- UI Components: `@/components/ui/ComponentName`
- Utilities: `@/lib/utils`
- Theme: `@/lib/theme/ThemeContext`
- Types: Always export props interfaces

### File Structure Rules:
- UI Components: `src/components/ui/`
- Pages: `src/app/` (App Router)
- Utilities: `src/lib/`
- Stores: `src/stores/`

### Naming Conventions:
- Components: PascalCase
- Files: kebab-case or PascalCase
- Functions: camelCase
- Constants: UPPER_SNAKE_CASE

### CSS/Tailwind Patterns:
- Theme variables: `var(--color-primary-*)`
- Responsive: mobile-first approach
- Dark theme: CSS variable-based dynamic switching

### Language Rules:
- **Korean formal language (ì¡´ëŒ“ë§)** mandatory
- **Definitive statements** (no speculation)
- **Prohibited words**: "ì•„ë§ˆ", "ì¶”ì •ë¨", "?", "ëŒ€ëµ", "ë³´í†µ", "ìƒê°ë©ë‹ˆë‹¤"
- **Preferred words**: "í™•ì¸ë¨", "ë¶„ì„ ê²°ê³¼", "í•´ê²°ë¨", "ê²€ì¦ë¨"

## GPT.md Advanced Features:

### Commit Range Analysis:
- Auto-calculate commits since last release/tag
- Parse Release_Note.md for last issue/version numbers
- Generate comprehensive change analysis

### Auto-Increment Logic:
- Issue numbers: Extract from "ISSUE-[0-9]+" pattern, add 1
- Version REV: Extract from "REV[0-9]{3}" pattern, add 1
- Date format: YYMMDD for current date

### Quality Assurance:
- Validate format with regex patterns
- Check required sections completion
- Verify test case inclusion
- Ensure priority classification

### Fallback Support:
- Generate skeleton when full analysis unavailable
- Provide manual completion guidance
- Maintain version consistency

## Release Note Quality Standards:
- **Completeness**: All 9 required sections
- **Clarity**: Clear problem and solution description  
- **Testability**: Executable test cases included
- **Consistency**: Format matching existing entries
- **Korean Language**: Formal tone throughout

## Token Optimization Strategy:
- Use Cursor for all release note generation
- Reserve Claude Code for critical system issues only
- Achieve 100% token savings on documentation tasks
- Maintain quality through structured templates
